<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>U盘里的文件夹突然变成了“应用程序”后缀名怎么办？ | Bill Ma's Blog</title><script>var config = {"root":"/","search":{"preload":false,"activeHolder":"Enter here","blurHolder":"Search the blog","noResult":"Data \"$0\" not found"},"code":{"codeInfo":"$0 - $1 lines","copy":"copy","copyFinish":"copied","expand":"expand"}}</script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><script src="//unpkg.com/mermaid@9.2.2/dist/mermaid.min.js"></script><script>mermaid.initialize({
 startOnLoad: true
 , theme: 'dark'
});</script><link rel="stylesheet" href="/css/arknights.css"><link rel="stylesheet" href="//unpkg.com/@highlightjs/cdn-assets@11.6.0/styles/atom-one-dark-reasonable.min.css"><style>@font-face {
 font-family: BenderLight;
 src: local('Bender'), url("/font/BenderLight.ttf");
}
@font-face {
 font-family: 'JetBrains Mono';
 src: local('JetBrains Mono'), url('/font/JetBrainsMono-Regular.woff2') format('woff2');
}</style><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="Bill Ma's Blog" type="application/atom+xml">
</head><body style="background-image:url(https://ak.hypergryph.com/assets/index/images/ak/pc/bk.jpg);"><main><header class="closed"><nav><div class="navBtn hide"><i class="navBtnIcon"><span class="navBtnIconBar"></span><span class="navBtnIconBar"></span><span class="navBtnIconBar"></span></i></div><ol class="navContent"><li class="navItem" id="search-header"><span class="navItemTitle"><input autocomplete="off" autocorrect="off" autocapitalize="none" placeholder="Search the blog" spellcheck="false" maxlength="50" type="text" id="search-input"></span></li><li class="navItem"><a class="navBlock" href="/"><span class="navItemTitle">Home</span></a></li><li class="navItem" matchdata="categories,tags"><a class="navBlock" href="/archives/"><span class="navItemTitle">Archives</span></a></li><li class="navItem"><a class="navBlock" href="/about/"><span class="navItemTitle">About</span></a></li></ol></nav><div class="search-popup"><div id="search-result"></div></div></header><article><div id="post-bg"><div id="post-title"><h1>U盘里的文件夹突然变成了“应用程序”后缀名怎么办？</h1><div id="post-info"><span>First Post: <div class="control"><time datetime="2021-11-12T11:47:58.000Z" id="date"> 2021-11-12</time></div></span><br><span>Last Update: <div class="control"><time datetime="2022-12-23T11:06:05.793Z" id="updated"> 2022-12-23</time></div></span></div></div><hr><div id="post-content"><p>最近学校电脑有很多老师喜欢使用U盘拷贝文件，但是我发现，许多老师的U盘都被感染上了病毒。这种病毒很常见，感染力极强，而且甚至像360系软件等等根本无法查杀。那么，这种病毒如何查杀呢？</p>
<h2 id="1-病毒介绍"><a href="#1-病毒介绍" class="headerlink" title="1.病毒介绍"></a>1.病毒介绍</h2><p>文件夹EXE病毒，学名Worm.Win32.AutoRun.soq。这种病毒只会运行在win32系统上。当你把你的U盘插入到一台电脑后，突然发现U盘内生成了以文件夹名字命名的文件，扩展名为exe，并且它们的图标跟windows默认的文件夹图标是一样的，很具有迷惑性。当你双击这个被伪装的exe文件后，木马自动启动并在电脑内下毒。</p>
<h2 id="2-运作原理"><a href="#2-运作原理" class="headerlink" title="2.运作原理"></a>2.运作原理</h2><p><strong>简而言之，这个病毒就是将你原有的文件夹隐藏起来，然后制造一个exe文件伪装成你的文件夹，其实这个exe就是病毒。在“组织”中，勾选“显示被隐藏的文件和文件夹”，并且取消勾选“隐藏被保护的文件夹”即可看到你的文件夹。</strong></p>
<p><em><strong>完整病毒机理：</strong></em></p>
<p>病毒运行后会释放以下文件：</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">com.run </span><br><span class="line">dp1.fne </span><br><span class="line">eAPI.fne </span><br><span class="line">internet.fne</span><br><span class="line">krnln.fnr</span><br><span class="line">og.dll</span><br><span class="line">og.edt </span><br><span class="line">RegEx.fnr</span><br><span class="line">fne </span><br><span class="line">spec.fne </span><br><span class="line">ul.dll</span><br><span class="line">XP-<span class="number">290</span>F2C69.EXE（后<span class="number">8</span>位随机）</span><br></pre></td></tr></table></figure>

<p>这些文件会被复制到系统盘的C:\WINDOWS\system32里面</p>
<p>随后，新增以下注册表项，以达到病毒随系统启动而自启动的目的。</p>
<p><code>HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows\CurrentVersion\Run</code></p>
<p>注册表值：XP-290F2C69（后8位随机）</p>
<p>类型：REG_SZ</p>
<p>值：C:\WINDOWS\system32\XP-290F2C69.EXE（后8位随机）</p>
<p>添加以下启动项，实现病毒自启动：<code>“C:\Documents and Settings\Administrator\「开始」菜单\程序\启动” 里的“　.lnk”</code>指向病毒文件。</p>
<p>下载病毒文件： （16,896 字节）保存为以下文件，并且运行它们：<br><code>%Windir%\System32\winvcreg.exe</code></p>
<p><code>%Windir%\System32\2080.EXE (名称随机)</code></p>
<p>然后，被感染的电脑接入移动磁盘后，病毒会遍历移动磁盘根目录下的文件夹，衍生自身到移动磁盘根目录下，更名为检测到的文件夹名称，修改原文件夹属性为隐藏，使用户在其他计算机使用移动磁盘打开其文件夹时运行病毒， 以达到病毒随移动磁盘传播的目的。</p>
<h2 id="3-解决办法："><a href="#3-解决办法：" class="headerlink" title="3.解决办法："></a>3.解决办法：</h2><h3 id="1-杀毒软件"><a href="#1-杀毒软件" class="headerlink" title="1.杀毒软件"></a>1.杀毒软件</h3><p>360并不能查清此病毒，建议使用毒霸或者电脑管家查杀。注意，该方法只能清除病毒，但不能显示被隐藏的文件夹。</p>
<h3 id="2-手工清除"><a href="#2-手工清除" class="headerlink" title="2.手工清除"></a>2.手工清除</h3><p>1、结束病毒进程。打开任务管理器，选择进程，结束进程XP-290F2C69.EXE（后8位随机），winvcreg.exe，2080.exe（随机名）。</p>
<p>2、删除病毒在System32生成的以下文件：</p>
<p><code>com.run dp1.fne eAPI.fne internet.fne krnln.fnr og.dll og.edt RegEx.fnr fne spec.fne ul.dll XP-290F2C69.EXE winvcreg.exe 2080.EXE（随机名）</code></p>
<p>3、删除病毒的启动项，删除以下启动项：</p>
<p><code>“HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows\CurrentVersion\Run”里的XP-290F2C69.EXE（后8位随机）</code></p>
<p><code>“C:\Documents and Settings\Administrator\「开始」菜单\程序\启动” 里的“　.lnk”</code></p>
<p>4、清除你的点击“开始”—输入“cmd” ，进入命令提示符，然后进入你U盘所在的根目录，具体操作如下，比如你的U盘盘符位G(即你的U盘在G盘），那么依次运行如下命令（第一行的“G:”为你的U盘盘符）：</p>
<p><strong>注意：第二句话会删除根目录下包括非病毒在内的所有exe文件，谨慎使用，可以仅使用1、3句话然后手动删除exe文件夹</strong></p>
<figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /d G:</span><br><span class="line"><span class="keyword">for</span> /f &quot;delims=&quot; %a <span class="keyword">in</span> (&#x27;<span class="built_in">dir</span> /b /ad&#x27;) <span class="keyword">do</span> (<span class="built_in">del</span> /a /f /q &quot;%a.exe&quot;) </span><br><span class="line"><span class="keyword">for</span> /f &quot;delims=&quot; %a <span class="keyword">in</span> (&#x27;<span class="built_in">dir</span> /b /adh&#x27;) <span class="keyword">do</span> (<span class="built_in">attrib</span> -s -h -r &quot;%a&quot;)</span><br></pre></td></tr></table></figure>

<p>这一步也可以用C++来代替：（不会清除其他文件）</p>
<p>首先删除你跟目录下所有exe文件夹，随后使用此代码：</p>
<pre><code class="cpp">#include &lt;iostream&gt;
#include &lt;cstring&gt;
#include &lt;windows.h&gt;

void listFiles(const char * dir);

int main()
&#123;
    using namespace std;
    char dir[100];
    cout &lt;&lt; &quot;Enter a directory (ends with \&#39;\\\&#39;): &quot;;
    cin.getline(dir, 100);
    strcat(dir, &quot;*.*&quot;);   
    listFiles(dir);
    return 0;
&#125;

void listFiles(const char * dir)
&#123;
    using namespace std;
    HANDLE hFind;
    WIN32_FIND_DATA findData;
    LARGE_INTEGER size;
    hFind = FindFirstFile(dir, &amp;findData);
    if (hFind == INVALID_HANDLE_VALUE)
    &#123;
        cout &lt;&lt; &quot;Failed to find first file!\n&quot;;
        return;
    &#125;
    do
    &#123;
        if (strcmp(findData.cFileName, &quot;.&quot;) == 0 || strcmp(findData.cFileName, &quot;..&quot;) == 0)
            continue;
        if (findData.dwFileAttributes &amp; FILE_ATTRIBUTE_DIRECTORY)  
        &#123;
            cout &lt;&lt; findData.cFileName &lt;&lt; &quot;\t&lt;dir&gt;\n&quot;;
             string str=&quot;attrib \&quot;&quot;;
            str.append(findData.cFileName);
            str.append(&quot;\&quot; -s -h&quot;);
            system(str.c_str());
            
        &#125;
        else
        &#123;
            size.LowPart = findData.nFileSizeLow;
            size.HighPart = findData.nFileSizeHigh;
            cout &lt;&lt; findData.cFileName &lt;&lt; &quot;\t&quot; &lt;&lt; size.QuadPart &lt;&lt; &quot; bytes\n&quot;;
        &#125;
    &#125; while (FindNextFile(hFind, &amp;findData));
    cout &lt;&lt; &quot;Done!\n&quot;;
    system(&quot;Pause&quot;);
&#125;

输入你U盘所在盘符（例如 G:\) （\要反斜杠）即可
</code></pre>
<div id="paginator"></div></div><div id="post-footer"><div id="pages"><div class="footer-link" style="width: 50%;text-align:right;border-right:1px #fe2 solid"><a href="/2021/12/04/1202ccf/">← Next 转载：《关于CCF无规定选择性取消NOIP选手成绩事件致中国计算机学会、中国计算机学会NOI科学委员会，并致杜子德同志的公开信》及其批判信</a></div><div class="footer-link" style="width: 50%;right:1px;border-left:1px #fe2 solid"><a href="/2021/10/30/zz_confuzi/">孔子：黑暗王国里的残烛 Prev →</a></div></div></div><div id="Valine"></div></div><div id="bottom-btn"><a id="to-index" href="#toc-div" title="Catalog">≡</a><a id="to-top" onClick="scrolls.scrolltop();" title="to top" style="opacity: 0; display: none;">∧</a></div></article><aside><div id="aside-top"><div id="about"><a href="/" id="logo"><img src="https://ak.hypergryph.com/assets/index/images/ak/pc/faction/1.png" alt="Logo"></a><h1 id="Dr"><a href="/">Bill Ma</a></h1><div id="description"><p>虽然不为人知 我仍骄傲盛开</p></div></div><div id="aside-block"><div id="toc-div"><h1>Catalog</h1><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E7%97%85%E6%AF%92%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.</span> <span class="toc-text">1.病毒介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E8%BF%90%E4%BD%9C%E5%8E%9F%E7%90%86"><span class="toc-number">2.</span> <span class="toc-text">2.运作原理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95%EF%BC%9A"><span class="toc-number">3.</span> <span class="toc-text">3.解决办法：</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%9D%80%E6%AF%92%E8%BD%AF%E4%BB%B6"><span class="toc-number">3.1.</span> <span class="toc-text">1.杀毒软件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%89%8B%E5%B7%A5%E6%B8%85%E9%99%A4"><span class="toc-number">3.2.</span> <span class="toc-text">2.手工清除</span></a></li></ol></li></ol></div></div></div><footer><nobr>Published with <a target="_blank" rel="noopener" href="http://hexo.io">Hexo</a></nobr><wbr><nobr>by <a target="_blank" rel="noopener" href="https://github.com/billma007">Billma007</a></nobr></footer></aside></main><canvas id="canvas-dust"></canvas><script src="/js/search.js"></script><script class="pjax-js">reset=_=>{new Valine({
 el: '#Valine'
 , appId: '1mz8ggP8H6QMv9SGcdDhaeq1-MdYXbMMI'
 , appKey: 'Ao3Q8TZABrX63Q7VQJwM5IV1' , placeholder: 'This comment is sent by Penguin Logistics.'
});code.findCode();mermaid.init(undefined, ('.mermaid'));}</script><script src="/js/arknights.js"></script><script>window.addEventListener("load",()=>{reset()})</script></body></html>